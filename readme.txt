
cupaloy init ~/archive
cupaloy scan ~/archive
cupaloy list volumes
cupaloy list collections
cupaloy status

3 collections.
1 (Huggs Archive) is online, replicated twice locally and once remotely.
1 (PuzzlingPlans) is online, not replicated.
1 (AncientStuff) is offline, last seen 30 days ago.


NAME		Replicas	Where?		Coverage	Last check
---
Huggs Archive	2		local/remote	100%		2 days ago


NODES


FILES

$ARCHIVE/.cupaloy/collection.json
~/.cupaloy/$NODE/$UUID.db
~/.cupaloy/collections.db


VOLUMES

Identified by UUID
Friendly name


COLLECTIONS

read/write: UUID generated by init
read-only: UUID generated by metadata checksum/volume label/url

friendly name

location
- url
- node/path


TAGS

online/offline vs permanent/transient/removable
hd/ssd/tape/cloud/etc
dynamic/static
location tags? work/home/etc

should inform longevity, risk, etc


SCHEMA

files
folders
hashes
scans
tags


SCAN

(scannode,uuid,url,volume?)


PROTECTION

obfuscate path, name, size, etc?
- can still parse dir structure
archive metadata can itself be archived


USABILITY

look at file signatures/formats
parse files (archives for instance)
run tests (make tests for instance)


HIERARCHY

Can have workspace containing git repos, match many-to-many collections


BROADCAST

challenge/response
- quickly find relevant collections
- quickly find relevant files
- quickly check checksums
- quickly find differences


ISSUES

timestamp, uuid differ on exfat from osx/linux
need to identify node in location
- better short id for collectionlocation
what if computer name changes?
what if file path changes?
- when does config file have to be checked?
- what if removable drive and files are not at same path?
- what if mount changes?
how to retire a collection/location?
what char. set for archives?
https://docs.python.org/2/library/argparse.html#module-argparse
http://stackoverflow.com/questions/10410180/sqlite-view-across-multiple-databases
what if one location has real files and other in archives?
clear memory db after every op?
filter by collection and file name/metadata
warn/ignore if file has wrong extension (.zip)
estimate progress from last scan
real/virtual duplicate checking combinations
progress for scanning inside archives
4 GB zip files?
